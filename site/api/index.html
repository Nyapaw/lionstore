
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://nyapaw.github.io/lionstore/api/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.4">
    
    
      
        <title>API - Lionstore</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f7f47774.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#795649">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="brown" data-md-color-accent="amber">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Lionstore" class="md-header__button md-logo" aria-label="Lionstore" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lionstore
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/nyapaw/lionstore/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Nyapaw/lionstore
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Lionstore" class="md-nav__button md-logo" aria-label="Lionstore" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Lionstore
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/nyapaw/lionstore/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Nyapaw/lionstore
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        API
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#infosettings" class="md-nav__link">
    InfoSettings
  </a>
  
    <nav class="md-nav" aria-label="InfoSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partitions" class="md-nav__link">
    Partitions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default" class="md-nav__link">
    Default
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disregardlimitcheck" class="md-nav__link">
    DisregardLimitCheck
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handlelocked" class="md-nav__link">
    HandleLocked
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handlecorruption" class="md-nav__link">
    HandleCorruption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beforesave" class="md-nav__link">
    BeforeSave
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beforeinitialget" class="md-nav__link">
    BeforeInitialGet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lionstore" class="md-nav__link">
    Lionstore
  </a>
  
    <nav class="md-nav" aria-label="Lionstore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setinfo" class="md-nav__link">
    .SetInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    .read
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify" class="md-nav__link">
    .modify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setmodifier" class="md-nav__link">
    .SetModifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getprofile" class="md-nav__link">
    .GetProfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new" class="md-nav__link">
    .new
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile" class="md-nav__link">
    Profile
  </a>
  
    <nav class="md-nav" aria-label="Profile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loaded" class="md-nav__link">
    :loaded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loaded_1" class="md-nav__link">
    .Loaded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    :get
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    :update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#habitat" class="md-nav__link">
    :habitat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lock" class="md-nav__link">
    :Lock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save" class="md-nav__link">
    :Save
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saveasync" class="md-nav__link">
    :SaveAsync
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#islocked" class="md-nav__link">
    :isLocked
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#release" class="md-nav__link">
    .Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maindata" class="md-nav__link">
    .MainData
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tips/" class="md-nav__link">
        Tips
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#infosettings" class="md-nav__link">
    InfoSettings
  </a>
  
    <nav class="md-nav" aria-label="InfoSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partitions" class="md-nav__link">
    Partitions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default" class="md-nav__link">
    Default
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disregardlimitcheck" class="md-nav__link">
    DisregardLimitCheck
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handlelocked" class="md-nav__link">
    HandleLocked
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handlecorruption" class="md-nav__link">
    HandleCorruption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beforesave" class="md-nav__link">
    BeforeSave
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beforeinitialget" class="md-nav__link">
    BeforeInitialGet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lionstore" class="md-nav__link">
    Lionstore
  </a>
  
    <nav class="md-nav" aria-label="Lionstore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setinfo" class="md-nav__link">
    .SetInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    .read
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify" class="md-nav__link">
    .modify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setmodifier" class="md-nav__link">
    .SetModifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getprofile" class="md-nav__link">
    .GetProfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new" class="md-nav__link">
    .new
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile" class="md-nav__link">
    Profile
  </a>
  
    <nav class="md-nav" aria-label="Profile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#loaded" class="md-nav__link">
    :loaded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loaded_1" class="md-nav__link">
    .Loaded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    :get
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    :update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#habitat" class="md-nav__link">
    :habitat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lock" class="md-nav__link">
    :Lock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save" class="md-nav__link">
    :Save
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saveasync" class="md-nav__link">
    :SaveAsync
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#islocked" class="md-nav__link">
    :isLocked
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#release" class="md-nav__link">
    .Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maindata" class="md-nav__link">
    .MainData
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nyapaw/lionstore/edit/master/docs/api.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="api">API</h1>
<h2 id="infosettings">InfoSettings</h2>
<p>Passed into <code>Lionstore.SetInfo</code></p>
<h3 id="partitions">Partitions</h3>
<p><code>number</code> <strong>Required</strong></p>
<p>Must be 1+, allocates a DataStore into smaller partitions with limit <code>DataSize/Partitions</code> chars; DataSize is the char <a href="https://developer.roblox.com/en-us/articles/Datastore-Errors">limit</a>. More partitions gives you more leeway on restoring past backups but reduces the size of your partitions.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Once set, you <strong>can't</strong> change this unless you use a new key</p>
</div>
<h3 id="default">Default</h3>
<p><code>table</code> <strong>Required</strong></p>
<p>The default data loaded into a new player. If missing entries of a preloaded profile exists, the data will be <a href="https://madstudioroblox.github.io/ProfileService/api/#profilereconcile">reconciled</a>.</p>
<h3 id="disregardlimitcheck">DisregardLimitCheck</h3>
<p><code>bool</code></p>
<p>Don't call JSONDecode whenever you update the data and gets rid of the limit check. Suitable if you're changing data tons of times with large tables and you know it won't be over the partition limit.</p>
<h3 id="handlelocked">HandleLocked</h3>
<p><code>callback(Player: instance, Data: MainData) -&gt; boolean</code></p>
<p>Calls when the profile is locked and does not load.
If true is returned, continue loading.</p>
<h3 id="handlecorruption">HandleCorruption</h3>
<p><code>callback(Player: instance, Data: MainData) -&gt; boolean</code></p>
<p>Calls when the profile is corrupted and does not load.
If true is returned, continue loading.</p>
<h3 id="beforesave">BeforeSave</h3>
<p><code>modifier(Player: instance, Data: table) -&gt; Data</code></p>
<p>Calls when the profile is about to be saved. <strong>Must return profile data</strong>. Use to serialize.</p>
<h3 id="beforeinitialget">BeforeInitialGet</h3>
<p><code>modifier(Player: instance, Data: table) -&gt; Data</code></p>
<p>Calls when after a value is received from Roblox data stores. <strong>Must return profile data</strong>. Use to deserialize.</p>
<h2 id="lionstore">Lionstore</h2>
<h3 id="setinfo">.SetInfo</h3>
<div class="codehilite"><pre><span></span><code>SetInfo(InfoSettings)
</code></pre></div>

<p>Set lionstore settings.</p>
<h3 id="read">.read</h3>
<div class="codehilite"><pre><span></span><code><span class="n">read</span><span class="p">(</span><span class="n">Key</span><span class="o">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">PlayerId</span><span class="o">:</span> <span class="n">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kr">Success</span><span class="o">:</span> <span class="n">bool</span><span class="p">,</span> <span class="n">Result</span><span class="o">:</span> <span class="kt">string</span> <span class="o">|</span> <span class="nf">table</span>
</code></pre></div>

<p>Grabs the latest revision data from a player of <code>PlayerId</code> with a given DataStore <code>Key</code>. Yields. If unsuccessful, returns string error.</p>
<h3 id="modify">.modify</h3>
<div class="codehilite"><pre><span></span><code><span class="n">modify</span><span class="p">(</span><span class="n">Key</span><span class="p">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">PlayerId</span><span class="p">:</span> <span class="nb nb-Type">int</span><span class="p">,</span> <span class="n">Id</span><span class="p">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">Args</span><span class="p">:</span> <span class="n">variant</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Success</span><span class="p">:</span> <span class="nb nb-Type">bool</span><span class="p">,</span> <span class="n">Error</span><span class="err">?</span><span class="p">:</span> <span class="n">string</span>
</code></pre></div>

<p>Modifies a player's data regardless of live or not, of <code>PlayerId</code> with a given DataStore <code>Key</code>. <code>Id</code> is the supplied callback key passed in <code>.SetModifier()</code> and supplies it with <code>Args</code>.</p>
<h3 id="setmodifier">.SetModifier</h3>
<div class="codehilite"><pre><span></span><code><span class="n">SetModifier</span><span class="p">(</span><span class="n">Id</span><span class="p">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">Callback</span><span class="p">:</span> <span class="n">callback</span><span class="p">(</span><span class="n">PlayerId</span><span class="p">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">Data</span><span class="p">:</span> <span class="n">table</span><span class="p">,</span> <span class="n">Args</span><span class="p">:</span> <span class="n">variant</span><span class="p">))</span>
</code></pre></div>

<p>Sets a modifier that is called from <code>.modify()</code>.</p>
<h3 id="getprofile">.GetProfile</h3>
<div class="codehilite"><pre><span></span><code><span class="n">GetProfile</span><span class="p">(</span><span class="n">Player</span><span class="o">:</span> <span class="n">instance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Profile</span><span class="o">?</span>
</code></pre></div>

<p>Get a profile from the player if it exists.</p>
<h3 id="new">.new</h3>
<div class="codehilite"><pre><span></span><code><span class="n">new</span><span class="p">(</span><span class="n">key</span><span class="o">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">Player</span><span class="o">:</span> <span class="n">instance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Profile</span>
</code></pre></div>

<p>Makes a new profile.</p>
<h2 id="profile">Profile</h2>
<h3 id="loaded">:loaded</h3>
<div class="codehilite"><pre><span></span><code><span class="n">loaded</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">boolean</span>
</code></pre></div>

<p>Returns whether the data is loaded.</p>
<h3 id="loaded_1">.Loaded</h3>
<div class="codehilite"><pre><span></span><code>Promise
</code></pre></div>

<p>Allows you to wait for a profile to be loaded. Ex;</p>
<div class="codehilite"><pre><span></span><code><span class="kr">if</span> <span class="ow">not</span> <span class="n">Profile</span><span class="p">:</span><span class="n">loaded</span><span class="p">()</span> <span class="kr">then</span>
    <span class="n">Profile</span><span class="p">.</span><span class="n">Loaded</span><span class="p">:</span><span class="n">await</span><span class="p">()</span>
<span class="kr">end</span>
</code></pre></div>

<h3 id="get">:get</h3>
<div class="codehilite"><pre><span></span><code><span class="n">get</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nf">table</span>
</code></pre></div>

<p>Returns the data.</p>
<h3 id="update">:update</h3>
<div class="codehilite"><pre><span></span><code><span class="n">update</span><span class="p">(</span><span class="n">modifier</span><span class="p">(</span><span class="n">data</span><span class="o">:</span> <span class="nf">table</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">data</span><span class="p">)</span>
</code></pre></div>

<p>Update the data. <strong>Must return profile data</strong>.</p>
<h3 id="habitat">:habitat</h3>
<div class="codehilite"><pre><span></span><code>habitat(run: callback(data: table), onCorrupt?: callback(error: string, identifiers?: ...), identifiers?: ...)
</code></pre></div>

<p>Create a habitat where the <code>run</code> callback is passed data. Acts as a pcall. Whenever an error arises, sets profile status to corrupt and calls <code>onCorrupt</code>. Optional identifiers can be passed into the callback.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This is the recommended way to run code in which you are dealing with profile data, no matter if you are getting or setting!</p>
</div>
<h3 id="lock">:Lock</h3>
<div class="codehilite"><pre><span></span><code>Lock()
</code></pre></div>

<p>Yields until the profile is locked. The library automatically locks the profile every 4 minutes so you can forget about this. Adds 10 minutes + os.time to the lock timer.</p>
<h3 id="save">:Save</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Save</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Promise</span>
</code></pre></div>

<p>Saves the profile. Returns a <a href="https://eryn.io/roblox-lua-promise/">promise</a>. Sets lock timer to 0 and increments the version number. The library automatically saves the profile when the player leaves.</p>
<h3 id="saveasync">:SaveAsync</h3>
<div class="codehilite"><pre><span></span><code>SaveAsync()
</code></pre></div>

<p><code>:Save</code> but yields the thread.</p>
<h3 id="islocked">:isLocked</h3>
<div class="codehilite"><pre><span></span><code><span class="n">isLocked</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">boolean</span>
</code></pre></div>

<p>Returns whether the profile is locked.</p>
<h3 id="release">.Release</h3>
<div class="codehilite"><pre><span></span><code>BindableEvent
</code></pre></div>

<p>If your profile is locked by another server as it saves, you can connect to this when the profile is released. Don't use <code>:Wait</code> since it may not fire at all.</p>
<h3 id="maindata">.MainData</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>NILABLE if profile is not loaded. Use :loaded to check!</p>
</div>
<div class="codehilite"><pre><span></span><code>{
    Corrupted: boolean,
    Data: array
    VERSION: number,
    Locked: number
}
</code></pre></div>

<p>A table describing the player's data. </p>
<p><code>VERSION</code> is the number of times the player has :Save called,</p>
<p><code>Data</code> is the array where indices are 1 to <code>Partitions</code> where 1 is the latest data. </p>
<p><code>Locked</code> is the number signifying if the profile is locked- <code>unix time &lt; Locked</code>.</p>
<p><code>Corrupted</code> signifies that the profile is corrupted.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../usage/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Usage" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Usage
            </div>
          </div>
        </a>
      
      
        
        <a href="../tips/" class="md-footer__link md-footer__link--next" aria-label="Next: Tips" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Tips
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.709b4209.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.febc23d1.min.js"></script>
      
    
  </body>
</html>